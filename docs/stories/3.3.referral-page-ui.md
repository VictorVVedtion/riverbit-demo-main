# Story 3.3: 推荐页 UI

## Status
Approved

## Story
**As a** RiverBit 用户,
**I want** 查看我的推荐数据和收益统计,
**so that** 可以了解推荐效果和收益情况。

## Acceptance Criteria
1. 推荐概览:推荐码、邀请链接、直接推荐人数、间接推荐人数
2. 收益统计:累计收益、待结算、已提取
3. 推荐人列表:展示所有被推荐人及其交易数据
4. 收益明细:分润记录列表 (时间、来源、金额)
5. 推荐树可视化 (可选)

## Dev Notes

### 推荐页组件

```typescript
// src/pages/Referral.tsx
import ReferralCode from '../components/referral/ReferralCode';
import RevenueStats from '../components/referral/RevenueStats';
import RefereeList from '../components/referral/RefereeList';
import RevenueHistory from '../components/referral/RevenueHistory';

export default function Referral() {
  return (
    <div className="space-y-6">
      <h1 className="text-3xl font-bold">推荐中心</h1>

      {/* 推荐码 */}
      <ReferralCode />

      {/* 收益统计 */}
      <RevenueStats />

      {/* 推荐人列表 */}
      <RefereeList />

      {/* 收益明细 */}
      <RevenueHistory />
    </div>
  );
}
```

### 收益统计组件

```typescript
// src/components/referral/RevenueStats.tsx
import { useRevenue } from '../../hooks/useRevenue';
import { useReferees } from '../../hooks/useReferees';

export default function RevenueStats() {
  const revenue = useRevenue();
  const { directCount, indirectCount } = useReferees();

  if (!revenue) return <div>Loading...</div>;

  return (
    <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
      <StatCard
        title="直接推荐"
        value={directCount.toString()}
        unit="人"
      />
      <StatCard
        title="间接推荐"
        value={indirectCount.toString()}
        unit="人"
      />
      <StatCard
        title="累计收益"
        value={revenue.settled}
        unit="USDC"
        positive
      />
      <StatCard
        title="待结算"
        value={revenue.pending}
        unit="USDC"
      />
    </div>
  );
}

function StatCard({ title, value, unit, positive }: any) {
  return (
    <div className="p-6 bg-gray-800 rounded-lg">
      <div className="text-sm text-gray-400 mb-2">{title}</div>
      <div className={`text-2xl font-bold ${positive ? 'text-green-500' : ''}`}>
        {value} <span className="text-lg">{unit}</span>
      </div>
    </div>
  );
}
```

[Source: Dashboard UI Pattern]

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-04 | 1.0 | Initial creation | Scrum Master Bob |
